{"ast":null,"code":"var _jsxFileName = \"/Users/negin.rb/Downloads/pink-planner-master/front-end/src/Calendar/CalendarView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { COLORS, dateColors } from \"../Constants\";\nimport MyCalendar from \"./MyCalendar\";\nimport NewEventDialog from \"../Components/NewEventDialog\";\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { AiOutlineHome } from \"react-icons/ai\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport noEventToday from \"./img.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CalendarView = () => {\n  _s();\n\n  const history = useHistory();\n  const [status, setStatus] = useState(\"loading\");\n  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());\n  const [MonthEvents, setMonthEvents] = useState([]); // Handle function to pass to MyCalendar\n\n  const updateCurrentMonth = month => setCurrentMonth(month);\n\n  useEffect(() => {\n    setStatus(\"loading\");\n    fetch(`/events/month/${currentMonth}`).then(res => res.json()).then(res => {\n      setMonthEvents(res.data);\n      setStatus(\"idle\");\n    }).catch(error => console.log(\"error!\", error));\n  }, [currentMonth]);\n  let colorIndex = -1;\n\n  const getEventsAfterCreate = async () => {\n    setStatus(\"loading\");\n    await fetch(`/events/month/${currentMonth}`).then(res => res.json()).then(res => {\n      setMonthEvents(res.data);\n      setStatus(\"idle\");\n    }).catch(error => console.log(\"error!\", error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(NewEventDialog, {\n      refreshEvents: getEventsAfterCreate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n        children: /*#__PURE__*/_jsxDEV(AiOutlineHome, {\n          onClick: () => history.push(\"/\"),\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavIcon, {\n        children: /*#__PURE__*/_jsxDEV(BiArrowBack, {\n          onClick: () => history.goBack(),\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabItem, {\n        onClick: () => history.push(\"/calendar-month\"),\n        children: \"month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabItem, {\n        onClick: () => history.push(`/week/${format(new Date(), \"y-MM-dd\")}`),\n        style: {\n          backgroundColor: \"#b5cdfd\"\n        },\n        children: \"week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabItem, {\n        style: {\n          backgroundColor: \"#b5cdfd\"\n        },\n        onClick: () => history.push(`/date/${format(new Date(), \"y-MM-dd\")}`),\n        children: \"Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MyCalendar, {\n      updateCurrentMonth: updateCurrentMonth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), status === \"loading\" ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [MonthEvents.length === 0 ? /*#__PURE__*/_jsxDEV(NoEventsSection, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You have nothing planned!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Tap \\\" + \\\" to add a task.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(AddEventImg, {\n          src: noEventToday,\n          alt: \"Add fun activities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this) : null, /*#__PURE__*/_jsxDEV(EventsSection, {\n        children: MonthEvents.map(ev => /*#__PURE__*/_jsxDEV(EventBox, {\n          onClick: () => history.push(`/date/${format(new Date(ev.date), \"y-MM-dd\")}`),\n          children: [/*#__PURE__*/_jsxDEV(DateBox, {\n            style: {\n              backgroundColor: dateColors[++colorIndex]\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dayName\",\n              children: format(new Date(ev.date), \"EEE.\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dayNum\",\n              children: format(new Date(ev.date), \"d\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DayEventsBox, {\n            children: ev.events.map(meeting => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(EventTitle, {\n                style: {\n                  color: dateColors[colorIndex]\n                },\n                children: [\"â€£ \", meeting.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CalendarView, \"p6C2qVs1LqkQ/rLMgrXdqYOy918=\", false, function () {\n  return [useHistory];\n});\n\n_c = CalendarView;\nconst Wrapper = styled.div`\n  min-height: 100vh;\n  background-color: ${COLORS.background};\n`;\n_c2 = Wrapper;\nconst NavIcon = styled.div`\n  padding: 0 5px;\n  color: rgb(222, 87, 102);\n  border: 1px solid rgb(222, 87, 102);\n  border-radius: 4px;\n  margin: 0 3px;\n`;\n_c3 = NavIcon;\nconst Tabs = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 2px;\n  margin-right: 3px;\n`;\n_c4 = Tabs;\nconst TabItem = styled.div`\n  flex-grow: 1;\n  text-align: center;\n  background-color: rgb(150, 184, 252);\n  border: 1px solid #cedefd;\n  color: white;\n  text-transform: uppercase;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  border-bottom: none;\n  padding: 6px 0;\n  font-size: 1.2rem;\n`;\n_c5 = TabItem;\nconst NoEventsSection = styled.div`\n  margin-top: 20px;\n  text-align: center;\n  font-size: 1.2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c6 = NoEventsSection;\nconst AddEventImg = styled.img`\n  max-width: 90vw;\n`;\n_c7 = AddEventImg;\nconst EventsSection = styled.div``;\n_c8 = EventsSection;\nconst slideUpAnimation = keyframes`\n    from {\n    margin-top: 100%;\n    opacity: 0;\n  }\n  to {\n    margin-top: 0%;\n    opacity:0.4;\n  }\n`;\nconst EventBox = styled.div`\n  display: flex;\n  border: none;\n  animation: ${slideUpAnimation} 0.3s;\n`;\n_c9 = EventBox;\nconst DateBox = styled.div`\n  background-color: blue;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n  min-width: 100px;\n  min-height: 100px;\n\n  .dayName {\n    color: ${COLORS.text2};\n    font-size: 1rem;\n    line-height: 1rem;\n  }\n  .dayNum {\n    color: ${COLORS.text2};\n  }\n`;\n_c10 = DateBox;\nconst DayEventsBox = styled.div`\n  background-color: ${COLORS.background};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  border-bottom: 1px solid #dae2f1;\n`;\n_c11 = DayEventsBox;\nconst EventTitle = styled.div`\n  padding-left: 15px;\n  font-size: 1.4rem;\n`;\n_c12 = EventTitle;\nexport default CalendarView;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"CalendarView\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"NavIcon\");\n$RefreshReg$(_c4, \"Tabs\");\n$RefreshReg$(_c5, \"TabItem\");\n$RefreshReg$(_c6, \"NoEventsSection\");\n$RefreshReg$(_c7, \"AddEventImg\");\n$RefreshReg$(_c8, \"EventsSection\");\n$RefreshReg$(_c9, \"EventBox\");\n$RefreshReg$(_c10, \"DateBox\");\n$RefreshReg$(_c11, \"DayEventsBox\");\n$RefreshReg$(_c12, \"EventTitle\");","map":{"version":3,"sources":["/Users/negin.rb/Downloads/pink-planner-master/front-end/src/Calendar/CalendarView.js"],"names":["React","useEffect","useState","styled","keyframes","COLORS","dateColors","MyCalendar","NewEventDialog","useHistory","format","AiOutlineHome","BiArrowBack","noEventToday","CalendarView","history","status","setStatus","currentMonth","setCurrentMonth","Date","getMonth","MonthEvents","setMonthEvents","updateCurrentMonth","month","fetch","then","res","json","data","catch","error","console","log","colorIndex","getEventsAfterCreate","push","goBack","backgroundColor","length","map","ev","date","events","meeting","color","title","Wrapper","div","background","NavIcon","Tabs","TabItem","NoEventsSection","AddEventImg","img","EventsSection","slideUpAnimation","EventBox","DateBox","text2","DayEventsBox","EventTitle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { COLORS, dateColors } from \"../Constants\";\nimport MyCalendar from \"./MyCalendar\";\nimport NewEventDialog from \"../Components/NewEventDialog\";\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { AiOutlineHome } from \"react-icons/ai\";\nimport { BiArrowBack } from \"react-icons/bi\";\nimport noEventToday from \"./img.png\";\n\nconst CalendarView = () => {\n  const history = useHistory();\n  const [status, setStatus] = useState(\"loading\");\n  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());\n  const [MonthEvents, setMonthEvents] = useState([]);\n\n  // Handle function to pass to MyCalendar\n  const updateCurrentMonth = (month) => setCurrentMonth(month);\n\n  useEffect(() => {\n    setStatus(\"loading\");\n    fetch(`/events/month/${currentMonth}`)\n      .then((res) => res.json())\n      .then((res) => {\n        setMonthEvents(res.data);\n        setStatus(\"idle\");\n      })\n      .catch((error) => console.log(\"error!\", error));\n  }, [currentMonth]);\n\n  let colorIndex = -1;\n\n  const getEventsAfterCreate = async () => {\n    setStatus(\"loading\");\n\n    await fetch(`/events/month/${currentMonth}`)\n      .then((res) => res.json())\n      .then((res) => {\n        setMonthEvents(res.data);\n        setStatus(\"idle\");\n      })\n      .catch((error) => console.log(\"error!\", error));\n  };\n\n  return (\n    <Wrapper>\n      <NewEventDialog refreshEvents={getEventsAfterCreate} />\n\n      <Tabs>\n        <NavIcon>\n          <AiOutlineHome onClick={() => history.push(\"/\")} size={30} />\n        </NavIcon>\n        <NavIcon>\n          <BiArrowBack onClick={() => history.goBack()} size={30} />\n        </NavIcon>\n        <TabItem onClick={() => history.push(\"/calendar-month\")}>month</TabItem>\n        <TabItem\n          onClick={() => history.push(`/week/${format(new Date(), \"y-MM-dd\")}`)}\n          style={{ backgroundColor: \"#b5cdfd\" }}\n        >\n          week\n        </TabItem>\n        <TabItem\n          style={{ backgroundColor: \"#b5cdfd\" }}\n          onClick={() => history.push(`/date/${format(new Date(), \"y-MM-dd\")}`)}\n        >\n          Day\n        </TabItem>\n      </Tabs>\n      <MyCalendar updateCurrentMonth={updateCurrentMonth} />\n\n      {status === \"loading\" ? null : (\n        <>\n          {MonthEvents.length === 0 ? (\n            <NoEventsSection>\n              <p>You have nothing planned!</p>\n              <p>Tap \" + \" to add a task.</p>\n              <AddEventImg src={noEventToday} alt=\"Add fun activities\" />\n            </NoEventsSection>\n          ) : null}\n          <EventsSection>\n            {MonthEvents.map((ev) => (\n              <EventBox\n                onClick={() =>\n                  history.push(`/date/${format(new Date(ev.date), \"y-MM-dd\")}`)\n                }\n              >\n                <DateBox style={{ backgroundColor: dateColors[++colorIndex] }}>\n                  <div className=\"dayName\">\n                    {format(new Date(ev.date), \"EEE.\")}\n                  </div>\n                  <div className=\"dayNum\">{format(new Date(ev.date), \"d\")}</div>\n                </DateBox>\n                <DayEventsBox>\n                  {ev.events.map((meeting) => (\n                    <div>\n                      <EventTitle style={{ color: dateColors[colorIndex] }}>\n                        {\"â€£ \"}\n                        {meeting.title}\n                      </EventTitle>\n                    </div>\n                  ))}\n                </DayEventsBox>\n              </EventBox>\n            ))}\n          </EventsSection>\n        </>\n      )}\n    </Wrapper>\n  );\n};\nconst Wrapper = styled.div`\n  min-height: 100vh;\n  background-color: ${COLORS.background};\n`;\nconst NavIcon = styled.div`\n  padding: 0 5px;\n  color: rgb(222, 87, 102);\n  border: 1px solid rgb(222, 87, 102);\n  border-radius: 4px;\n  margin: 0 3px;\n`;\nconst Tabs = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 2px;\n  margin-right: 3px;\n`;\nconst TabItem = styled.div`\n  flex-grow: 1;\n  text-align: center;\n  background-color: rgb(150, 184, 252);\n  border: 1px solid #cedefd;\n  color: white;\n  text-transform: uppercase;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  border-bottom: none;\n  padding: 6px 0;\n  font-size: 1.2rem;\n`;\nconst NoEventsSection = styled.div`\n  margin-top: 20px;\n  text-align: center;\n  font-size: 1.2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst AddEventImg = styled.img`\n  max-width: 90vw;\n`;\n\nconst EventsSection = styled.div``;\nconst slideUpAnimation = keyframes`\n    from {\n    margin-top: 100%;\n    opacity: 0;\n  }\n  to {\n    margin-top: 0%;\n    opacity:0.4;\n  }\n`;\nconst EventBox = styled.div`\n  display: flex;\n  border: none;\n  animation: ${slideUpAnimation} 0.3s;\n`;\nconst DateBox = styled.div`\n  background-color: blue;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n  min-width: 100px;\n  min-height: 100px;\n\n  .dayName {\n    color: ${COLORS.text2};\n    font-size: 1rem;\n    line-height: 1rem;\n  }\n  .dayNum {\n    color: ${COLORS.text2};\n  }\n`;\n\nconst DayEventsBox = styled.div`\n  background-color: ${COLORS.background};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  border-bottom: 1px solid #dae2f1;\n`;\n\nconst EventTitle = styled.div`\n  padding-left: 15px;\n  font-size: 1.4rem;\n`;\n\nexport default CalendarView;\n"]},"metadata":{},"sourceType":"module"}