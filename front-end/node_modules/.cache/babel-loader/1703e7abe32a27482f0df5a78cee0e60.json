{"ast":null,"code":"var _jsxFileName = \"/Users/negin.rb/Downloads/pink-planner-master/front-end/src/Homepage/NewsFeed.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { format } from \"date-fns\";\nimport { dayColors } from \"../Constants\"; // import { rapidKey } from \"./key\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst NewsFeed = ({\n  today\n}) => {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  useEffect(() => {\n    if (localStorage.getItem(\"date\") === format(today, \"yyyy-MM-dd\")) {\n      console.log(\"Local storage is fine\");\n      setArticles(JSON.parse(localStorage.getItem(\"articles\")));\n    } else {\n      console.log(\"LOCAL STORAGE: needs to be updated\");\n      fetch(\"https://google-news.p.rapidapi.com/v1/source_search?source=nytimes.com&lang=en&country=US\", {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"x-rapidapi-host\": \"google-news.p.rapidapi.com\",\n          \"x-rapidapi-key\": \"5a7988d83dmsh4dd47a8e874b364p1b2e22jsnce1df52b0391\"\n        }\n      }).then(res => res.json()).then(response => {\n        console.log(response);\n        setArticles(response.articles.slice(0, 15));\n        localStorage.setItem(\"date\", format(today, \"yyyy-MM-dd\"));\n        localStorage.setItem(\"articles\", JSON.stringify(response.articles));\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }, [today]);\n  let colorIndex = 0;\n\n  if (articles) {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: articles.map(article => {\n        return /*#__PURE__*/_jsxDEV(AnchorBox, {\n          target: \"_blank\",\n          href: article.link,\n          children: /*#__PURE__*/_jsxDEV(ArticleBox, {\n            style: {\n              backgroundColor: `${dayColors[colorIndex++]}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              children: article.title.slice(0, article.title.indexOf(\" - \"))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Source, {\n              children: article.source.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Date, {\n              children: article.published.slice(0, article.published.indexOf(\"2021\") + 4)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this)\n        }, article.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n};\n\n_s(NewsFeed, \"XsOpLvUbTkfx79dw07TVNsBviNQ=\");\n\n_c = NewsFeed;\nconst Wrapper = styled.div`\n  margin: 10px;\n  display: flex;\n  overflow: auto;\n  width: 95%;\n`;\n_c2 = Wrapper;\nconst ArticleBox = styled.div`\n  min-width: 160px;\n  min-height: 160px;\n  margin-right: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n_c3 = ArticleBox;\nconst AnchorBox = styled.a`\n  text-decoration: none;\n`;\n_c4 = AnchorBox;\nconst Title = styled.div`\n  font-size: 0.9rem;\n  font-weight: 600;\n  font-family: \"Varela Round\", sans-serif;\n  overflow: hidden;\n`;\n_c5 = Title;\nconst Source = styled.div`\n  font-size: 0.9rem;\n  font-weight: 500;\n  padding-bottom: 18px;\n  padding-top: 5px;\n  color: grey;\n`;\n_c6 = Source;\nconst Date = styled.div`\n  font-size: 0.9rem;\n  color: grey;\n  position: absolute;\n  bottom: 10px;\n  width: 90%;\n  text-align: right;\n`;\n_c7 = Date;\nexport default NewsFeed;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"NewsFeed\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"ArticleBox\");\n$RefreshReg$(_c4, \"AnchorBox\");\n$RefreshReg$(_c5, \"Title\");\n$RefreshReg$(_c6, \"Source\");\n$RefreshReg$(_c7, \"Date\");","map":{"version":3,"sources":["/Users/negin.rb/Downloads/pink-planner-master/front-end/src/Homepage/NewsFeed.js"],"names":["React","useState","useEffect","styled","format","dayColors","NewsFeed","today","articles","setArticles","localStorage","getItem","console","log","JSON","parse","fetch","then","res","json","response","slice","setItem","stringify","catch","err","error","colorIndex","map","article","link","backgroundColor","title","indexOf","source","published","id","Wrapper","div","ArticleBox","AnchorBox","a","Title","Source","Date"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { format } from \"date-fns\";\nimport { dayColors } from \"../Constants\";\n// import { rapidKey } from \"./key\";\n\nconst NewsFeed = ({ today }) => {\n  const [articles, setArticles] = useState([]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"date\") === format(today, \"yyyy-MM-dd\")) {\n      console.log(\"Local storage is fine\");\n      setArticles(JSON.parse(localStorage.getItem(\"articles\")));\n    } else {\n      console.log(\"LOCAL STORAGE: needs to be updated\");\n\n      fetch(\"https://google-news.p.rapidapi.com/v1/source_search?source=nytimes.com&lang=en&country=US\", {\n\t\"method\": \"GET\",\n\t\"headers\": {\n\t\t\"x-rapidapi-host\": \"google-news.p.rapidapi.com\",\n\t\t\"x-rapidapi-key\": \"5a7988d83dmsh4dd47a8e874b364p1b2e22jsnce1df52b0391\"\n\t}\n})\n        .then((res) => res.json())\n        .then((response) => {\n          console.log(response);\n          setArticles(response.articles.slice(0, 15));\n          localStorage.setItem(\"date\", format(today, \"yyyy-MM-dd\"));\n          localStorage.setItem(\"articles\", JSON.stringify(response.articles));\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }, [today]);\n\n  let colorIndex = 0;\n\n  if (articles) {\n    return (\n      <Wrapper>\n        {articles.map((article) => {\n          return (\n            <AnchorBox target=\"_blank\" href={article.link} key={article.id}>\n              <ArticleBox\n                style={{\n                  backgroundColor: `${dayColors[colorIndex++]}`,\n                }}\n              >\n                <Title>\n                  {article.title.slice(0, article.title.indexOf(\" - \"))}\n                </Title>\n                <Source>{article.source.title}</Source>\n                <Date>\n                  {article.published.slice(\n                    0,\n                    article.published.indexOf(\"2021\") + 4\n                  )}\n                </Date>\n              </ArticleBox>\n            </AnchorBox>\n          );\n        })}\n      </Wrapper>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nconst Wrapper = styled.div`\n  margin: 10px;\n  display: flex;\n  overflow: auto;\n  width: 95%;\n`;\nconst ArticleBox = styled.div`\n  min-width: 160px;\n  min-height: 160px;\n  margin-right: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\nconst AnchorBox = styled.a`\n  text-decoration: none;\n`;\nconst Title = styled.div`\n  font-size: 0.9rem;\n  font-weight: 600;\n  font-family: \"Varela Round\", sans-serif;\n  overflow: hidden;\n`;\nconst Source = styled.div`\n  font-size: 0.9rem;\n  font-weight: 500;\n  padding-bottom: 18px;\n  padding-top: 5px;\n  color: grey;\n`;\nconst Date = styled.div`\n  font-size: 0.9rem;\n  color: grey;\n  position: absolute;\n  bottom: 10px;\n  width: 90%;\n  text-align: right;\n`;\nexport default NewsFeed;\n"]},"metadata":{},"sourceType":"module"}